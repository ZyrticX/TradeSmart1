# ××“×¨×™×š ×”×ª×§× ×” ×•×”×’×“×¨×ª TradeSmart ×¢× Supabase

## ×©×œ×‘ 1: ×™×¦×™×¨×ª ×¤×¨×•×™×§×˜ Supabase

1. ×’×© ×œ-[Supabase](https://supabase.com) ×•×”×ª×—×‘×¨/×”×™×¨×©×
2. ×œ×—×¥ ×¢×œ "New Project"
3. ×‘×—×¨ ××¨×’×•×Ÿ (××• ×¦×•×¨ ×—×“×©)
4. ×”×–×Ÿ ××ª ×¤×¨×˜×™ ×”×¤×¨×•×™×§×˜:
   - **×©× ×”×¤×¨×•×™×§×˜**: TradeSmart
   - **×¡×™×¡××ª ××¡×“ × ×ª×•× ×™×**: ×©××•×¨ ×¡×™×¡××” ×—×–×§×” (×ª×–×“×§×§ ×œ×” ×œ××—×¨ ××›×Ÿ)
   - **××–×•×¨**: ×‘×—×¨ ××ª ×”××–×•×¨ ×”×§×¨×•×‘ ×‘×™×•×ª×¨ ××œ×™×š
5. ×œ×—×¥ ×¢×œ "Create new project"

## ×©×œ×‘ 2: ×”×’×“×¨×ª ××¡×“ ×”× ×ª×•× ×™×

1. ×œ××—×¨ ×©×”×¤×¨×•×™×§×˜ × ×•×¦×¨, ×œ×š ×œ×˜××‘ **SQL Editor** ×‘×ª×¤×¨×™×˜ ×”×¦×“×“×™
2. ×œ×—×¥ ×¢×œ "+ New query"
3. ×”×¢×ª×§ ××ª ×›×œ ×”×ª×•×›×Ÿ ×©×œ ×”×§×•×‘×¥ `supabase-complete-setup.sql`
4. ×”×“×‘×§ ××•×ª×• ×‘×¢×•×¨×š SQL
5. ×œ×—×¥ ×¢×œ "Run" ××• ×œ×—×¥ `Ctrl + Enter`
6. ×•×“× ×©×”×©××™×œ×ª×” ×”×¦×œ×™×—×” (××ª×” ×××•×¨ ×œ×¨××•×ª "Success" ×¢× ×”×•×“×¢×•×ª NOTICE)

âš ï¸ **×”×¢×¨×”:** ×× ×§×™×‘×œ×ª ×©×’×™××” ×¢×œ Storage (ERROR: 42501: must be owner of table buckets) - **×–×” ×ª×§×™×Ÿ!** 
×”×ª×¢×œ× ××–×” ×•×”××©×š ×œ×©×œ×‘ 3. ×›×œ ×”×˜×‘×œ××•×ª × ×•×¦×¨×• ×‘×”×¦×œ×—×”.

## ×©×œ×‘ 3: ×”×’×“×¨×ª Storage (×™×“× ×™ - ×—×•×‘×”!)

âš ï¸ **×—×©×•×‘:** Storage Bucket **×—×™×™×‘** ×œ×”×™×•×•×¦×¨ ×™×“× ×™×ª ×“×¨×š ×”-UI!

1. ×œ×š ×œ×˜××‘ **Storage** ×‘×ª×¤×¨×™×˜ ×”×¦×“×“×™
2. ×œ×—×¥ ×¢×œ **"Create a new bucket"**
3. ××œ× ××ª ×”×¤×¨×˜×™×:
   - **Name:** `trade-files`
   - **Public bucket:** âœ“ (×¡××Ÿ!)
   - ×”×©××¨ ××ª ×©××¨ ×”×©×“×•×ª ×¨×™×§×™×
4. ×œ×—×¥ **"Create bucket"**
5. ×•×“× ×©×”-bucket `trade-files` ××•×¤×™×¢ ×‘×¨×©×™××”

ğŸ“– **×œ××“×¨×™×š ××¤×•×¨×˜:** `STORAGE_SETUP_GUIDE.md`

## ×©×œ×‘ 4: ×§×‘×œ×ª API Keys

1. ×œ×š ×œ×˜××‘ **Settings** > **API**
2. ×”×¢×ª×§ ××ª ×”×¢×¨×›×™× ×”×‘××™×:
   - **Project URL** - ×–×” ×”-`VITE_SUPABASE_URL` ×©×œ×š
   - **anon public** key - ×–×” ×”-`VITE_SUPABASE_ANON_KEY` ×©×œ×š

## ×©×œ×‘ 5: ×”×’×“×¨×ª ××©×ª× ×™ ×”×¡×‘×™×‘×”

1. ×¦×•×¨ ×§×•×‘×¥ `.env` ×‘×©×•×¨×© ×”×¤×¨×•×™×§×˜ (××•×ª×” ×ª×™×§×™×™×” ×©×œ `package.json`)
2. ×”×•×¡×£ ××ª ×”×©×•×¨×•×ª ×”×‘××•×ª:

```env
VITE_SUPABASE_URL=your_supabase_project_url_here
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here
```

3. ×”×—×œ×£ ××ª `your_supabase_project_url_here` ×•-`your_supabase_anon_key_here` ×‘×¢×¨×›×™× ×©×”×¢×ª×§×ª ×‘×©×œ×‘ 4
4. **×—×©×•×‘**: ×•×“× ×©×”×§×•×‘×¥ `.env` × ××¦× ×‘-`.gitignore` ×›×“×™ ×œ× ×œ×©×ª×£ ××¤×ª×—×•×ª API

## ×©×œ×‘ 6: ×”×ª×§× ×ª ×”×ª×œ×•×™×•×ª ×•×”×¨×¦×ª ×”×¤×¨×•×™×§×˜

```bash
# ×”×ª×§×Ÿ ××ª ×›×œ ×”×ª×œ×•×™×•×ª
npm install

# ×”×¨×¥ ××ª ×”×¤×¨×•×™×§×˜ ×‘××¦×‘ ×¤×™×ª×•×—
npm run dev
```

## ×©×œ×‘ 7: ×™×¦×™×¨×ª ××©×ª××© ×¨××©×•×Ÿ

1. ×¤×ª×— ××ª ×”××¤×œ×™×§×¦×™×” ×‘×“×¤×“×¤×Ÿ (×‘×“×¨×š ×›×œ×œ `http://localhost:5173`)
2. ×× ×™×© ×“×£ ×”×¨×©××”, ×”×©×ª××© ×‘×•
3. ×× ××™×Ÿ, ××ª×” ×™×›×•×œ ×œ×™×¦×•×¨ ××©×ª××© ×™×©×™×¨×•×ª ×‘-Supabase:
   - ×œ×š ×œ×˜××‘ **Authentication** > **Users**
   - ×œ×—×¥ ×¢×œ "Add user" > "Create new user"
   - ×”×–×Ÿ email ×•×¡×™×¡××”
   - ×œ×—×¥ "Create user"

## ×©×œ×‘ 8: ×™×¦×™×¨×ª ×—×©×‘×•×Ÿ ×¨××©×•×Ÿ (Account)

×œ××—×¨ ×”×”×ª×—×‘×¨×•×ª, ×ª×¦×˜×¨×š ×œ×™×¦×•×¨ ×—×©×‘×•×Ÿ ××¡×—×¨:

1. ×œ×š ×œ×”×’×“×¨×•×ª (Settings)
2. ×¦×•×¨ ×—×©×‘×•×Ÿ ×—×“×© ×¢× ×”×¤×¨×˜×™× ×©×œ×š
3. ×”×’×“×¨:
   - ×©× ×”×—×©×‘×•×Ÿ
   - ×’×•×“×œ ×”×—×©×‘×•×Ÿ
   - ××—×•×– ×¡×™×›×•×Ÿ ×‘×¨×™×¨×ª ××—×“×œ
   - ××¡×˜×¨×˜×’×™×•×ª ××¡×—×¨
   - ×¢××œ×•×ª

## ××‘× ×” ×”×˜×‘×œ××•×ª ×©× ×•×¦×¨×•

×”×¡×›××” ×™×¦×¨×” ××ª ×”×˜×‘×œ××•×ª ×”×‘××•×ª:

- **accounts** - ×—×©×‘×•× ×•×ª ×”××¡×—×¨ ×©×œ×š
- **trades** - ×›×œ ×”×¢×¡×§××•×ª
- **trade_events** - ××™×¨×•×¢×™× ×‘×¢×¡×§××•×ª (×§× ×™×”, ××›×™×¨×”, ×”×•×¡×¤×ª ×›××•×ª ×•×›×•')
- **journal_entries** - ×¨×©×•××•×ª ×™×•××Ÿ
- **watchlist_notes** - ×¨×©×™××ª ××¢×§×‘
- **learning_materials** - ×—×•××¨×™ ×œ××™×“×”
- **user_preferences** - ×”×¢×“×¤×•×ª ××©×ª××©

## Row Level Security (RLS)

×”×¡×›××” ×›×•×œ×œ×ª ××“×™× ×™×•×ª RLS ×©××‘×˜×™×—×” ×©×›×œ ××©×ª××© ×™×›×•×œ ×œ×¨××•×ª ×¨×§ ××ª ×”× ×ª×•× ×™× ×©×œ×•.

## ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª × ×¤×•×¦×•×ª

### ×©×’×™××ª "Invalid API key"
- ×•×“× ×©×”×¢×ª×§×ª ××ª ×”××¤×ª×—×•×ª ×”× ×›×•× ×™× ×-Settings > API
- ×•×“× ×©×”×§×•×‘×¥ `.env` × ××¦× ×‘×©×•×¨×© ×”×¤×¨×•×™×§×˜
- ×”×¤×¢×œ ××—×“×© ××ª ×©×¨×ª ×”×¤×™×ª×•×— (`npm run dev`)

### ×©×’×™××ª "relation does not exist"
- ×•×“× ×©×”×¨×¦×ª ××ª ×”-SQL schema ×”××œ×
- ×‘×“×•×§ ×‘-Table Editor ×©×›×œ ×”×˜×‘×œ××•×ª × ×•×¦×¨×•

### ×œ× ×™×›×•×œ ×œ×”×¢×œ×•×ª ×§×‘×¦×™×
- ×•×“× ×©×”-bucket `trade-files` ×§×™×™× ×•××•×’×“×¨ ×›-public
- ×‘×“×•×§ ×©××“×™× ×™×•×ª ×”-Storage × ×•×¦×¨×” × ×›×•×Ÿ

### ×©×’×™××ª "JWT expired" ××• "Invalid JWT"
- ×–×” ×§×•×¨×” ×× ×”-session ×¤×’ ×ª×•×§×£
- ×¤×©×•×˜ ×”×ª×—×‘×¨ ××—×“×©

## ×©×“×¨×•×’ ×œ×¢×ª×™×“

### ×”×•×¡×¤×ª Authentication UI
×× ××ª×” ×¨×•×¦×” ×œ×”×•×¡×™×£ ×“×¤×™ ×”×ª×—×‘×¨×•×ª/×”×¨×©××”:

```bash
npm install @supabase/auth-ui-react @supabase/auth-ui-shared
```

### ×”×•×¡×¤×ª Realtime Updates
Supabase ×ª×•××š ×‘-realtime - ××¤×©×¨ ×œ×”××–×™×Ÿ ×œ×©×™× ×•×™×™× ×‘×˜×‘×œ××•×ª ×‘×–××Ÿ ×××ª:

```javascript
const channel = supabase
  .channel('trades-changes')
  .on('postgres_changes', 
    { event: '*', schema: 'public', table: 'trades' },
    (payload) => console.log('Trade changed:', payload)
  )
  .subscribe()
```

## ×ª××™×›×”

×œ×©××œ×•×ª × ×•×¡×¤×•×ª, ×¢×™×™×Ÿ ×‘[×ª×™×¢×•×“ Supabase](https://supabase.com/docs)

